<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Tienda - Las Gemelas</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
    <header>
        <h1>âœ¨ Las Gemelas âœ¨</h1>
        <nav>
            <span th:if="${session.usuario}" style="margin-right: 1rem; padding: 0.5rem 1rem; border-radius: 8px; background: rgba(255, 255, 255, 0.1);">
                ğŸ‘‹ Hola, <span th:text="${session.usuario.nombre}"></span>
            </span>
            <a th:if="${session.usuario == null}" th:href="@{/login}">ğŸ” Login</a>
            <a th:if="${session.usuario}" th:href="@{/logout}">ğŸšª Salir</a>
        </nav>
    </header>

    <div class="container">
        <h2>ğŸ­ Nuestros Disfraces</h2>

        <div class="product-grid">
            <div class="card" th:each="producto, iterStat : ${productos}">
                <div style="position: relative; overflow: hidden;">
                    <img th:src="@{'/img/' + ${producto.imagen}}" alt="Imagen Producto"
                        onerror="this.src='https://via.placeholder.com/250'"
                        style="transition: transform 0.5s ease;">
                    <div style="position: absolute; top: 10px; right: 10px; background: rgba(107, 70, 193, 0.9); color: white; padding: 0.3rem 0.8rem; border-radius: 20px; font-size: 0.75rem; font-weight: 600; backdrop-filter: blur(10px);"
                        th:text="${producto.categoria}"></div>
                </div>
                <div class="card-body">
                    <h3 class="card-title" th:text="${producto.nombre}">Nombre</h3>
                    <p style="color: #666; font-size: 0.9rem; line-height: 1.6;" th:text="${producto.descripcion}">DescripciÃ³n</p>
                    <p style="margin: 0.5rem 0;"><strong style="color: var(--secondary-color);">CategorÃ­a:</strong> 
                        <span style="color: var(--primary-color); font-weight: 600;" th:text="${producto.categoria}"></span>
                    </p>

                    <div style="margin-top: 1.5rem; padding-top: 1rem; border-top: 2px solid var(--light-purple);">
                        <div th:if="${producto.tipo == 'venta' or producto.tipo == 'ambos'}" style="margin-bottom: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 600; color: var(--primary-color);">
                                    ğŸ’° Venta: <span style="font-size: 1.2rem; color: var(--secondary-color);" th:text="'S/ ' + ${producto.precioVenta}">0.00</span>
                                </span>
                                <button class="btn btn-primary" style="font-size: 0.85rem; padding: 0.6rem 1.2rem;" 
                                        onmouseover="this.style.transform='scale(1.05)'" 
                                        onmouseout="this.style.transform='scale(1)'">ğŸ›’ Comprar</button>
                            </div>
                        </div>
                        <div th:if="${producto.tipo == 'alquiler' or producto.tipo == 'ambos'}" style="margin-top: 0.75rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-weight: 600; color: var(--primary-color);">
                                    ğŸ“… Alquiler: <span style="font-size: 1.2rem; color: var(--secondary-color);" th:text="'S/ ' + ${producto.precioAlquiler}">0.00</span>
                                </span>
                                <button class="btn btn-primary" 
                                        style="font-size: 0.85rem; padding: 0.6rem 1.2rem; background: linear-gradient(135deg, var(--secondary-color) 0%, var(--dark-purple) 100%);"
                                        onmouseover="this.style.transform='scale(1.05)'" 
                                        onmouseout="this.style.transform='scale(1)'">ğŸ“‹ Alquilar</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Add smooth scroll behavior
        document.addEventListener('DOMContentLoaded', function() {
            // Add stagger animation to cards
            const cards = document.querySelectorAll('.card');
            cards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });

            // Add interactive hover effects
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transition = 'all 0.4s cubic-bezier(0.4, 0, 0.2, 1)';
                });
            });
        });
    </script>
</body>

</html>