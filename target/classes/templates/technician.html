<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Panel Técnico - Las Gemelas</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
    <header>
        <h1>Panel Técnico</h1>
        <nav>
            <a th:href="@{/}">Ver Tienda</a>
            <a th:href="@{/logout}">Salir</a>
        </nav>
    </header>

    <div class="container">

        <!-- Gestión de Productos -->
        <section style="margin-bottom: 3rem;">
            <h2 style="color: var(--primary-color); border-bottom: 3px solid var(--accent-color); padding-bottom: 0.5rem; margin-bottom: 1.5rem;">Gestión de Productos</h2>

            <div
                style="background: white; padding: 1.5rem; border-radius: 12px; margin-bottom: 2rem; box-shadow: 0 4px 20px rgba(107, 70, 193, 0.15); border: 1px solid var(--light-purple);">
                <h3>Agregar Producto</h3>
                <form th:action="@{/tecnico/producto/guardar}" th:object="${nuevoProducto}" method="post"
                    style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <input type="text" th:field="*{nombre}" placeholder="Nombre" class="form-control" required>
                    <input type="text" th:field="*{categoria}" placeholder="Categoría" class="form-control">
                    <select th:field="*{tipo}" class="form-control">
                        <option value="ambos">Ambos</option>
                        <option value="venta">Venta</option>
                        <option value="alquiler">Alquiler</option>
                    </select>
                    <input type="number" step="0.01" th:field="*{precioVenta}" placeholder="Precio Venta"
                        class="form-control">
                    <input type="number" step="0.01" th:field="*{precioAlquiler}" placeholder="Precio Alquiler"
                        class="form-control">
                    <input type="number" th:field="*{stock}" placeholder="Stock" class="form-control">
                    <input type="text" th:field="*{imagen}" placeholder="Nombre Imagen (ej: foto.jpg)"
                        class="form-control">
                    <textarea th:field="*{descripcion}" placeholder="Descripción" class="form-control"
                        style="grid-column: span 2;"></textarea>

                    <button type="submit" class="btn btn-primary" style="grid-column: span 2;">Guardar Producto</button>
                </form>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Stock</th>
                        <th>Estado</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="prod : ${productos}">
                        <td th:text="${prod.id}">1</td>
                        <td th:text="${prod.nombre}">Producto</td>
                        <td th:text="${prod.stock}">10</td>
                        <td th:text="${prod.estado}">Disponible</td>
                        <td>
                            <a th:href="@{/tecnico/producto/eliminar/{id}(id=${prod.id})}" class="btn btn-danger"
                                style="padding: 0.2rem 0.5rem; font-size: 0.8rem;">Eliminar</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <!-- Gestión de Usuarios -->
        <section>
            <h2 style="color: var(--primary-color); border-bottom: 3px solid var(--accent-color); padding-bottom: 0.5rem; margin-bottom: 1.5rem;">Gestión de Usuarios</h2>
            <table>
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Nombre</th>
                        <th>Correo</th>
                        <th>Rol</th>
                        <th>Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="user : ${usuarios}">
                        <td th:text="${user.id}">1</td>
                        <td th:text="${user.nombre + ' ' + user.apellido}">Juan Perez</td>
                        <td th:text="${user.correo}">juan@mail.com</td>
                        <td th:text="${user.rol}">cliente</td>
                        <td>
                            <a th:href="@{/tecnico/usuario/eliminar/{id}(id=${user.id})}" class="btn btn-danger"
                                style="padding: 0.2rem 0.5rem; font-size: 0.8rem;">Eliminar</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

    </div>
</body>

</html>